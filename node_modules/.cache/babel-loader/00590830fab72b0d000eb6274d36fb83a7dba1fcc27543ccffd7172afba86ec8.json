{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Documents\\\\Programming\\\\wp_project\\\\wp-airbnb\\\\src\\\\components\\\\CardList.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useRef, useCallback } from 'react';\nimport cardData from '../data/card_data.json';\nimport Card from './Card';\nimport './CardList.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CardList() {\n  _s();\n  const [visibleCards, setVisibleCards] = useState(cardData.slice(0, 10)); // Initial set of cards\n  const [page, setPage] = useState(1); // Track page of data\n  const observer = useRef();\n  const lastCardRef = useCallback(node => {\n    if (observer.current) observer.current.disconnect();\n    observer.current = new IntersectionObserver(entries => {\n      if (entries[0].isIntersecting && visibleCards.length < cardData.length) {\n        // Load more cards\n        setPage(prevPage => prevPage + 1);\n      }\n    });\n    if (node) observer.current.observe(node);\n  }, [visibleCards]);\n  useEffect(() => {\n    // Load the next set of cards based on the page\n    const loadMoreCards = () => {\n      const start = page * 10;\n      const end = start + 10;\n      setVisibleCards(prevCards => [...prevCards, ...cardData.slice(start, end)]);\n    };\n    loadMoreCards();\n  }, [page]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card-list\",\n    children: visibleCards.map((item, index) => {\n      if (index === visibleCards.length - 1) {\n        return /*#__PURE__*/_jsxDEV(Card, {\n          imageUrl: item.image_url,\n          rating: item.rating,\n          reviews: item.reviews,\n          time: item.time,\n          title: item.title,\n          price: item.price,\n          ref: lastCardRef\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 25\n        }, this);\n      }\n      return /*#__PURE__*/_jsxDEV(Card, {\n        imageUrl: item.image_url,\n        rating: item.rating,\n        reviews: item.reviews,\n        time: item.time,\n        title: item.title,\n        price: item.price\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n}\n_s(CardList, \"FGhMwTHomaJdLMNFl0hx91yNA6w=\");\n_c = CardList;\nvar _c;\n$RefreshReg$(_c, \"CardList\");","map":{"version":3,"names":["useState","useEffect","useRef","useCallback","cardData","Card","jsxDEV","_jsxDEV","CardList","_s","visibleCards","setVisibleCards","slice","page","setPage","observer","lastCardRef","node","current","disconnect","IntersectionObserver","entries","isIntersecting","length","prevPage","observe","loadMoreCards","start","end","prevCards","className","children","map","item","index","imageUrl","image_url","rating","reviews","time","title","price","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/admin/Documents/Programming/wp_project/wp-airbnb/src/components/CardList.js"],"sourcesContent":["import { useState, useEffect, useRef, useCallback } from 'react';\r\nimport cardData from '../data/card_data.json';\r\nimport Card from './Card';\r\nimport './CardList.css';\r\n\r\nexport default function CardList() {\r\n    const [visibleCards, setVisibleCards] = useState(cardData.slice(0, 10)); // Initial set of cards\r\n    const [page, setPage] = useState(1); // Track page of data\r\n    const observer = useRef();\r\n\r\n    const lastCardRef = useCallback((node) => {\r\n        if (observer.current) observer.current.disconnect();\r\n        observer.current = new IntersectionObserver(entries => {\r\n            if (entries[0].isIntersecting && visibleCards.length < cardData.length) {\r\n                // Load more cards\r\n                setPage(prevPage => prevPage + 1);\r\n            }\r\n        });\r\n        if (node) observer.current.observe(node);\r\n    }, [visibleCards]);\r\n\r\n    useEffect(() => {\r\n        // Load the next set of cards based on the page\r\n        const loadMoreCards = () => {\r\n            const start = page * 10;\r\n            const end = start + 10;\r\n            setVisibleCards(prevCards => [...prevCards, ...cardData.slice(start, end)]);\r\n        };\r\n        loadMoreCards();\r\n    }, [page]);\r\n\r\n    return (\r\n        <div className=\"card-list\">\r\n            {visibleCards.map((item, index) => {\r\n                if (index === visibleCards.length - 1) {\r\n                    return (\r\n                        <Card\r\n                            key={index}\r\n                            imageUrl={item.image_url}\r\n                            rating={item.rating}\r\n                            reviews={item.reviews}\r\n                            time={item.time}\r\n                            title={item.title}\r\n                            price={item.price}\r\n                            ref={lastCardRef}\r\n                        />\r\n                    );\r\n                }\r\n                return (\r\n                    <Card\r\n                        key={index}\r\n                        imageUrl={item.image_url}\r\n                        rating={item.rating}\r\n                        reviews={item.reviews}\r\n                        time={item.time}\r\n                        title={item.title}\r\n                        price={item.price}\r\n                    />\r\n                );\r\n            })}\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}